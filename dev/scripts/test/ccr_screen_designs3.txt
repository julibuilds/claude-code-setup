# Claude Code Router CLI - Enhanced Screen Designs

## Design System

### Color & Visual Hierarchy
- **Primary Actions**: Cyan highlights for current selection
- **Success States**: Green for verified/completed
- **Warnings**: Yellow for caution
- **Errors**: Red for failures
- **Muted**: Gray for secondary/disabled items

### Typography & Spacing
- Header: Title + Breadcrumb
- Consistent padding: 2 spaces internal, 1 space between sections
- Icon + Label pattern for clarity
- Right-aligned metadata (pricing, status)

### Navigation Improvements
- Breadcrumb trail at top
- Consistent footer with contextual help
- Visual feedback on every interaction
- Multi-step progress indication

---

## Main Menu

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Claude Code Router  v1.0.0                                                   ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  🚀  Quick Config         ➜  Configure router models in one place
  
  📤  Deploy Manager       ➜  Deploy to Cloudflare Workers
  
  🔑  Secrets Manager      ➜  Manage Workers environment secrets
  
  ⚙️   Settings            ➜  App preferences & cache management
  
  ❓  Help                 ➜  Documentation & keyboard shortcuts
  
  ✕   Exit

┌──────────────────────────────────────────────────────────────────────────────┐
│ Project Root: /Users/developer/claude-code-setup                             │
│ Status: ✓ Ready to deploy  │  Last config saved: 2025-10-17 14:22            │
└──────────────────────────────────────────────────────────────────────────────┘

  ↑↓ Navigate  │  ↵ Select  │  ? Help  │  Q Quit
```

---

## Quick Config - Step 1: Router Selection

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Quick Config  ›  Select Router Type                                          ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  Step 1 of 3  ▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 33%

  Choose which router to configure:

  ▶ default              Standard request routing
    📊 Current: claude-sonnet-4.5

  • background           Async task processing
    📊 Current: claude-haiku-4.5

  • think                Extended thinking & reasoning
    📊 Current: claude-opus-4-1

  • longContext          Long context retrieval
    📊 Current: claude-opus-4-1

┌──────────────────────────────────────────────────────────────────────────────┐
│ Select a router to modify its model assignment or view current config.       │
└──────────────────────────────────────────────────────────────────────────────┘

  ↑↓ Select  │  ↵ Next  │  ESC Cancel
```

---

## Quick Config - Step 2: Model Selection with Filters

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Quick Config  ›  default Router  ›  Select Model                             ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  Step 2 of 3  ▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 67%

┌──────────────────────────────────  Filter  ──────────────────────────────────┐
│ ▶ Popular  │  🏢 Anthropic  │  🔷 OpenAI  │  ⭐ All (showing 47)              │
└──────────────────────────────────────────────────────────────────────────────┘

  💎 claude-opus-4-1
     Input: $18.00/M    Output: $60.00/M
     ┌──────────────────────────────────  Best for  ──────────────────────────────────┐
     │ ├─ Complex reasoning & analysis                                                │
     │ └─ High accuracy required                                                      │
     │                                                                                │
     │ ▶ claude-sonnet-4.5  ✓ CURRENT                                                 │
     │ Input: $3.00/M     Output: $15.00/M                                            │
     │ ┌─ Best for ─┐                                                                 │
     │ ├─ Balanced performance                                                        │
     │ └─ General-purpose tasks                                                       │
     │                                                                                │
     │ ⚡ claude-haiku-4.5                                                             │
     │ Input: $0.80/M     Output: $4.00/M                                             │
     │ ┌─ Best for ─┐                                                                 │
     │ ├─ Speed-critical tasks                                                        │
     │ └─ Cost optimization                                                           │
     │                                                                                │
     │ 🔷 gpt-4o                                                                      │
     │ Input: $5.00/M     Output: $15.00/M                                            │
     │ ┌─ Best for ─┐                                                                 │
     │ ├─ OpenAI model comparison                                                     │
     │ └─ Multi-modal tasks                                                           │
     │                                                                                │
     │ ┌────────────────────────────────────────────────────────────────────────────┐ │
     │ 24-hour cache: 47 models loaded  │  Last refreshed: 2025-10-17 14:20           │
     └────────────────────────────────────────────────────────────────────────────────┘

  ↑↓ Browse  │  TAB Filters  │  ↵ Select  │  Ctrl+F Refresh  │  ESC Back
```

---

## Quick Config - Step 3: Review & Confirm

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Quick Config  ›  Review Changes                                              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  Step 3 of 3  ▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 100%

  2 routers modified  •  Estimated cost change: -$12,000/month

┌──────────────────────────────────────────────────────────────────────────────┐
│ default Router                                                               │
│ ├─ Before:  claude-sonnet-4.5  ($3.00/$15.00)                                │
│ └─ After:   claude-opus-4-1    ($18.00/$60.00)  ➜  +400% cost                │
│                                                                              │
│ background Router                                                            │
│ ├─ Before:  claude-haiku-4.5   ($0.80/$4.00)                                 │
│ └─ After:   claude-haiku-4.5   ($0.80/$4.00)    ➜  No change                 │
│                                                                              │
│ think Router                                                                 │
│ ├─ Before:  claude-opus-4-1    ($18.00/$60.00)                               │
│ └─ After:   claude-opus-4-1    ($18.00/$60.00)  ➜  No change                 │
│                                                                              │
│ longContext Router                                                           │
│ ├─ Before:  claude-opus-4-1    ($18.00/$60.00)                               │
│ └─ After:   claude-haiku-4.5   ($0.80/$4.00)    ➜  -95% cost                 │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ✓ Save & Continue
  • ⟳ Reset Changes
  • ℹ  View Details

  Ctrl+S Save  │  Ctrl+R Reset  │  ↵ Confirm  │  ESC Cancel
```

---

## Deploy Manager - Pre-Deployment Checklist

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Deploy Manager  ›  Pre-Deployment Verification                               ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  Target: Cloudflare Workers (Production)

┌──────────────────────────────  Configuration  ───────────────────────────────┐
│ ✓ wrangler.toml                Present & valid                               │
│ ✓ API credentials              Configured (OPENROUTER_API_KEY)               │
│ ✓ Environment file             .env synced with .dev.vars                    │
│ ✓ Router config                All 4 routers defined                         │
└──────────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────  Pre-Deployment Tests  ───────────────────────────┐
│ ✓ Syntax validation            No errors found                               │
│ ✓ Type checking                All TypeScript types valid                    │
│ ✓ Bundle size                  2.4 KB (within limits)                        │
│ ✓ Dependencies                 All dependencies resolved                     │
│ ✓ Git status                   No uncommitted changes                        │
└──────────────────────────────────────────────────────────────────────────────┘

┌────────────────────────────  Changes to Deploy  ─────────────────────────────┐
│ • default router: claude-opus-4-1                                            │
│ • longContext router: claude-haiku-4.5                                       │
│ • 2 configuration files modified                                             │
│ • Estimated rollback time: 30 seconds                                        │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ✓ Deploy Now
  • ⟲ Review Changes
  • ⚠ Advanced Options

  ↵ Deploy  │  ? Preview  │  ESC Cancel
```

---

## Deploy Manager - Live Deployment

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Deploy Manager  ›  Deployment in Progress                                    ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  ◐ Deploying...  Elapsed: 3s

┌───────────────────────────────  Build Phase  ────────────────────────────────┐
│ ✓ Installing dependencies        (0.8s)                                      │
│ ✓ Compiling TypeScript            (1.2s)                                     │
│ ⟳ Bundling worker code...         (2.1s)                                     │
│                                                                              │
│ ████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  60%          │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────  Ready to Upload  ──────────────────────────────┐
│ Bundle size: 2.4 KB  │  Files: 8  │  Next: Upload to Cloudflare              │
└──────────────────────────────────────────────────────────────────────────────┘

  Downloading logs...  (Press Space for verbose output)

  [Details hidden]  │  Ctrl+V Verbose  │  ESC Cancel
```

---

## Deploy Manager - Success Screen

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Deploy Manager  ›  Deployment Successful                                     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  ✓ DEPLOYMENT COMPLETE  •  Deployed in 18s

┌────────────────────────────  Deployment Summary  ────────────────────────────┐
│ Worker URL:       https://claude-code-router.example.workers.dev             │
│ Deployment ID:    dep_87f4c9a2-1e3b-4d8f-9a2c-5e1b3c4d8f9a                   │
│ Deployed At:      2025-10-17 14:25:43 UTC                                    │
│ Rollback URL:     https://dash.cloudflare.com/...                            │
└──────────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────  Active Configuration  ───────────────────────────┐
│ ◐ default          →  claude-opus-4-1       ($3.00-18.00 per 1M tokens)      │
│ ◐ background       →  claude-haiku-4.5      ($0.80-4.00 per 1M tokens)       │
│ ◐ think            →  claude-opus-4-1       ($18.00-60.00 per 1M tokens)     │
│ ◐ longContext      →  claude-haiku-4.5      ($0.80-4.00 per 1M tokens)       │
└──────────────────────────────────────────────────────────────────────────────┘

┌───────────────────────  Post-Deployment Verification  ───────────────────────┐
│ ✓ Health check passed                    (200 OK)                            │
│ ✓ All model endpoints responding         (4/4 models)                        │
│ ✓ Rate limiting configured               (1000 req/min)                      │
│ ✓ Error handling active                  (Fallbacks enabled)                 │
│ ✓ Secrets synced                         (3 secrets)                         │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ✓ View Worker Dashboard
  • 📋 Copy Worker URL
  • ⬅ Back to Menu

  ↵ Dashboard  │  Ctrl+C Quit
```

---

## Deploy Manager - Error with Troubleshooting

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Deploy Manager  ›  Deployment Failed                                         ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  ✗ DEPLOYMENT FAILED  •  Rolled back automatically

┌──────────────────────────────  Error Details  ───────────────────────────────┐
│ Error Code: ERR_INVALID_MODEL                                                │
│ Message: Model 'claude-opus-5' not found in OpenRouter catalog               │
│ Stack:   src/routes/models.ts:45                                             │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────  Troubleshooting Guide  ───────────────────────────┐
│ 1. ✓ Verify model names                                                      │
│ └─ Check: Quick Config › Select Model › All (for valid names)                │
│                                                                              │
│ 2. ⟳ Refresh model catalog                                                   │
│ └─ Run: Ctrl+F in Quick Config to refresh (24h cache)                        │
│                                                                              │
│ 3. 🔑 Check API credentials                                                  │
│ └─ Verify: Secrets Manager › OPENROUTER_API_KEY is valid                     │
│                                                                              │
│ 4. 📡 Test connectivity                                                      │
│ └─ Command: ccr --test-connection                                            │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ⟲ Retry Deploy
  • 🔧 Review Configuration
  • ℹ View Full Logs

  ↵ Retry  │  L Logs  │  ESC Back
```

---

## Secrets Manager - Main View

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Secrets Manager                                                              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  3 secrets configured  •  ✓ Local file in sync  •  Last synced: 2s ago

┌──────────────────────────────  Manage Secrets  ──────────────────────────────┐
│                                                                              │
│ ▶ + New Secret              Add or update a secret                           │
│ • 📋 List All Secrets       View all 3 configured secrets                    │
│ • 🔄 Force Sync             Sync to .dev.vars file                           │
│ • 🗑 Clear All              Delete all secrets (confirmation required)       │
│ • ⬅ Back to Menu            Return to main menu                              │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────  Recent Changes  ──────────────────────────────┐
│ 2025-10-17 14:20:15  DATABASE_URL            Updated (synced)                │
│ 2025-10-17 13:45:22  OPENROUTER_API_KEY      Updated (synced)                │
│ 2025-10-16 09:30:01  CLOUDFLARE_API_TOKEN    Created (synced)                │
└──────────────────────────────────────────────────────────────────────────────┘

  ↑↓ Select  │  ↵ Open  │  ESC Back
```

---

## Secrets Manager - Create/Edit Secret

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Secrets Manager  ›  New Secret                                               ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

┌───────────────────────────  Secret Configuration  ───────────────────────────┐
│                                                                              │
│ Secret Name *                                                                │
│ [OPENROUTER_API_KEY_________________________________]                        │
│ ├─ Alphanumeric, underscores, hyphens only                                   │
│ └─ Required field                                                            │
│                                                                              │
│ Secret Value *                                                               │
│ [••••••••••••••••••••••••••••••••••••••••]  Ctrl+H to show                   │
│ ├─ Min 8 characters                                                          │
│ └─ Required field                                                            │
│                                                                              │
│ Destination                                                                  │
│ ☑ Cloudflare Workers (production)                                            │
│ ☑ .dev.vars (local development)                                              │
│ └─ Auto-sync enabled                                                         │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ✓ Save Secret
  • ⬅ Cancel

  TAB Navigate  │  Ctrl+H Show/Hide  │  ↵ Save  │  ESC Cancel
```

---

## Secrets Manager - List View with Toggle

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Secrets Manager  ›  All Secrets                                              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  Total: 3  •  Synced: 3  •  Pending: 0  •  View: [Values Hidden]  Ctrl+H

┌─────────────────────────────────────────────────────────────────────────────────┐
│ NAME                              VALUE                      LAST UPDATED       │
│ ├─────────────────────────────────────────────────────────────────────────────┤ │
│                                                                                 │
│ ▶ OPENROUTER_API_KEY              sk-or-v1-••••••••••••••••   2025-10-17        │
│ └─ Status: ✓ In sync with Cloudflare & .dev.vars                                │
│                                                                                 │
│ • CLOUDFLARE_API_TOKEN            ••••••••••••••••••••••••••   2025-10-15       │
│ └─ Status: ✓ In sync with Cloudflare & .dev.vars                                │
│                                                                                 │
│ • DATABASE_URL                    ••••••••••••••••••••••••••   2025-10-17       │
│ └─ Status: ✓ In sync with Cloudflare & .dev.vars                                │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘

  ▶ E Edit
  • D Delete
  • C Copy Name
  • Ctrl+H Toggle Visibility

  ↑↓ Select  │  E Edit  │  D Delete  │  ESC Back
```

---

## Settings Panel

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Settings                                                                     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

┌─────────────────────────  Application Preferences  ──────────────────────────┐
│                                                                              │
│ ▶ Theme                          Dark  (Light / Dark / Auto)                 │
│ • Color Mode                     256-color (Auto / 256-color / True-color)   │
│ • Animations                     ☑ Enabled                                   │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────  Cache & Performance  ────────────────────────────┐
│                                                                              │
│ • Model Cache                    ✓ Enabled (24h TTL)                         │
│ Size: 1.2 MB  │  Last refresh: 2h ago  │  [🗑 Clear Cache]                   │
│                                                                              │
│ • Auto-Sync                      ☑ Enabled (Sync every 30s)                  │
│ Last sync: 30s ago                                                           │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────  Advanced Options  ─────────────────────────────┐
│                                                                              │
│ • API Timeout                    30s  (5-120s)                               │
│ • Retry Attempts                 3    (1-5 attempts)                         │
│ • Debug Logging                  ☐ Disabled  [Enable for troubleshooting]    │
│ • Portable Mode                  ☑ Auto-detect project root                  │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

  ▶ ✓ Save Settings
  • ⟲ Reset to Defaults
  • ⬅ Back to Menu

  ↑↓ Navigate  │  SPACE Toggle  │  ↵ Save  │  ESC Cancel
```

---

## Help & Documentation

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Help & Documentation                                                         ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

┌────────────────────────────  Keyboard Shortcuts  ────────────────────────────┐
│ Navigation                                                                   │
│ ↑↓ / ← →    Navigate between items                                           │
│ TAB          Switch between panels / fields                                  │
│ ↵            Confirm selection / Submit form                                 │
│ ESC          Go back / Cancel action                                         │
│                                                                              │
│ Actions                                                                      │
│ Ctrl+S       Save changes (Quick Config)                                     │
│ Ctrl+R       Reset pending changes                                           │
│ Ctrl+F       Force refresh models                                            │
│ Ctrl+H       Toggle secret visibility (Secrets Manager)                      │
│ ? or H       Show this help menu                                             │
│ Q            Quit application                                                │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ Getting Started ─────────────────────────────────────────────────────────────┐
│  1. Quick Config      Choose routers and models for your needs              │
│  2. Deploy Manager    Verify config and deploy to Cloudflare Workers       │
│  3. Secrets Manager   Manage API keys and credentials                      │
│                                                                              │
